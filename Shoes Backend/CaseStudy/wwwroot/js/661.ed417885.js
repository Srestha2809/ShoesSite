(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[661],{5572:(t,e,a)=>{"use strict";a.d(e,{C:()=>d,_:()=>l});const s="/api/",l=async t=>{let e,a=r();try{let l=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await l.json()}catch(l){console.log(l),e={error:`Error has occured: ${l.message}`}}return e},r=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t},d=async(t,e)=>{let a,l=r();try{let r=await fetch(`${s}${t}`,{method:"POST",headers:l,body:JSON.stringify(e)});a=await r.json()}catch(d){a=d}return a}},7081:(t,e,a)=>{"use strict";a.d(e,{p:()=>l,x:()=>s});const s=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),l=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),s=e.getMonth()+1,l=e.getFullYear(),r=(e.getHours(),e.getMinutes());return r<10&&(r="0"+r),l+"-"+s+"-"+a}},5661:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>M});var s=a(9835),l=a(6970),r=a(4151),d=a.n(r);const c={class:"text-center q-mt-lg"},o=(0,s._)("img",{src:d(),alt:"",style:{width:"500px",height:"auto"}},null,-1),n=(0,s._)("div",{class:"text-h3"},"Brands",-1),i={class:"text-positive q-mt-lg"},u={key:1,class:"text-h6 text-bold text-center text-primary"},m=["src"],p=["src"],g={class:"text-subtitle2 text-center"},h={style:{border:"solid",margin:"2vh"}},w={style:{width:"10%","text-align":"right","padding-right":"3vw"}},y={class:"row"},f={class:"col-2 q-mr-sm"},q={class:"col-4 q-mr-sm"},_={class:"col-3"};function v(t,e,a,r,d,v){const b=(0,s.up)("q-select"),S=(0,s.up)("q-avatar"),x=(0,s.up)("q-item-section"),C=(0,s.up)("q-item"),P=(0,s.up)("q-list"),W=(0,s.up)("q-card"),k=(0,s.up)("q-scroll-area"),$=(0,s.up)("q-btn"),B=(0,s.up)("q-card-actions"),Q=(0,s.up)("q-card-section"),Z=(0,s.up)("q-input"),I=(0,s.up)("q-dialog"),V=(0,s.up)("q-page"),j=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(V,null,{default:(0,s.w5)((()=>[(0,s._)("div",c,[o,n,(0,s._)("div",i,(0,l.zw)(r.state.status),1),r.state.brands.length>0?((0,s.wg)(),(0,s.j4)(b,{key:0,class:"q-mt-lg q-ml-lg",style:{width:"50vw","margin-bottom":"4vh","background-color":"#fff"},"option-value":"id","option-label":"name",modelValue:r.state.selectedBrandId,"onUpdate:modelValue":[e[0]||(e[0]=t=>r.state.selectedBrandId=t),e[1]||(e[1]=t=>r.loadProducts())],options:r.state.brands,label:"Select a Brand","emit-value":"","map-options":""},null,8,["modelValue","options"])):(0,s.kq)("",!0),r.state.products.length>0?((0,s.wg)(),(0,s.iD)("div",u,(0,l.zw)(r.state.selectedBrand.name)+" ITEMS ",1)):(0,s.kq)("",!0),(0,s.Wm)(k,{style:{height:"55vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.products,(t=>((0,s.wg)(),(0,s.j4)(C,{key:t.id,clickable:"",onClick:e=>r.selectProduct(t.id)},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{style:{height:"125px",width:"90px"},square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:`/images/${t.graphicName}`},null,8,m)])),_:2},1024)])),_:2},1024),(0,s.Wm)(x,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.productName),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})]),(0,s.Wm)(I,{modelValue:r.state.itemSelected,"onUpdate:modelValue":e[5]||(e[5]=t=>r.state.itemSelected=t),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s.Wm)(B,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)($,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[j]])])),_:1}),(0,s.Wm)(Q,{class:"q-pa-none text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{style:{height:"125px",width:"90px"},square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:`/images/${r.state.selectedProduct.graphicName}`},null,8,p)])),_:1})])),_:1}),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s._)("div",g,(0,l.zw)(r.state.selectedProduct.productName)+" - "+(0,l.zw)(r.formatCurrency(r.state.selectedProduct.msrp)),1)])),_:1}),(0,s.Wm)(Q,{class:"q-pa-none text-center"},{default:(0,s.w5)((()=>[(0,s._)("table",h,[(0,s._)("tr",null,[(0,s._)("td",w,(0,l.zw)(r.state.selectedProduct.description),1)])])])),_:1}),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s._)("div",f,[(0,s.Wm)(Z,{modelValue:r.state.qty,"onUpdate:modelValue":e[2]||(e[2]=t=>r.state.qty=t),modelModifiers:{number:!0},type:"number",filled:"",style:{"max-width":"15vw"},placeholder:"qty",hint:"Qty",dense:""},null,8,["modelValue"])]),(0,s._)("div",q,[(0,s.Wm)($,{color:"primary",label:"Add To Cart",disable:r.state.qty<0,onClick:e[3]||(e[3]=t=>r.addToCart())},null,8,["disable"])]),(0,s._)("div",_,[(0,s.Wm)($,{color:"primary",label:"View Cart",disable:r.state.cart.length<1,onClick:e[4]||(e[4]=t=>r.viewCart())},null,8,["disable"])])])])),_:1}),(0,s.Wm)(Q,{class:"text-center text-positive"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(r.state.dialogStatus),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var b=a(7081),S=a(499),x=a(5572),C=a(8910);const P={setup(){(0,s.bv)((()=>{a()}));const t=(0,C.tv)();let e=(0,S.qj)({status:"",brands:[],products:[],selectedBrand:{},selectedBrandId:"",selectedProduct:{},dialogStatus:"",itemSelected:!1,qty:0,cart:[]});const a=async()=>{try{e.status="loading brands...";const t=await(0,x._)("Brand");void 0===t.error?(e.brands=t,e.status=`loaded ${e.brands.length} brandss`):e.status=t.error}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},l=async()=>{try{e.selectedBrand=e.brands.find((t=>t.id===e.selectedBrandId)),e.status=`finding products for brand ${e.selectedBrand}...`,e.products=await(0,x._)(`Product/${e.selectedBrand.id}`),e.status=`loaded ${e.products.length} products for\n        ${e.selectedBrand.name}`}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},r=async t=>{try{e.selectedProduct=e.products.find((e=>e.id===t)),e.itemSelected=!0,e.dialogStatus="",sessionStorage.getItem("cart")&&(e.cart=JSON.parse(sessionStorage.getItem("cart")))}catch(a){console.log(a),e.status=`Error has occured: ${a.message}`}},d=()=>{let t=-1;e.cart.length>0&&(t=e.cart.findIndex((t=>t.id===e.selectedProduct.id))),e.qty>0?(-1===t?e.cart.push({id:e.selectedProduct.id,qty:e.qty,item:e.selectedProduct}):e.cart[t]={id:e.selectedProduct.id,qty:e.qty,item:e.selectedProduct},e.dialogStatus=`${e.qty} item(s) added`):(-1!==t&&e.cart.splice(t,1),e.dialogStatus="item(s) removed"),sessionStorage.setItem("cart",JSON.stringify(e.cart)),e.qty=0},c=()=>{t.push("cart")};return{state:e,loadProducts:l,selectProduct:r,addToCart:d,formatCurrency:b.x,viewCart:c}}};var W=a(1639),k=a(9885),$=a(4363),B=a(1019),Q=a(4458),Z=a(3246),I=a(490),V=a(1233),j=a(1357),z=a(7743),D=a(1821),N=a(4455),T=a(3190),U=a(6611),E=a(2146),A=a(9984),O=a.n(A);const J=(0,W.Z)(P,[["render",v]]),M=J;O()(P,"components",{QPage:k.Z,QSelect:$.Z,QScrollArea:B.Z,QCard:Q.Z,QList:Z.Z,QItem:I.Z,QItemSection:V.Z,QAvatar:j.Z,QDialog:z.Z,QCardActions:D.Z,QBtn:N.Z,QCardSection:T.Z,QInput:U.Z}),O()(P,"directives",{ClosePopup:E.Z})},4151:(t,e,a)=>{t.exports=a.p+"img/shoes.16e1e107.jpg"}}]);